{
  "path": "/my-ws-endpoint",
  "authentication": {
    "mode": "none",
    "username": "basic_user",
    "password":  "strongPassword",
    "authorizationServerUrl": "http://my.auth.com/verify_token"
  },
  "bufferSize": 1000,
  "backendParallelism": 4,
  "filters": {
    "whitelistIps": ["127.0.0"],
    "whitelistHosts": ["localhost"]
  },
  "routes": [
    {
      "type": "CONNECT",
      "name": "Connect",
      "http": [
        {
          "destination": "service.1.example.com/connect",
          "timeoutInMillis": 300,
          "additionalHeaders": {
            "X-Debug-Id": "id"
          }
        }
      ],
      "kafka": [
        {
          "topic": "service.2.connect.topic"
        }
      ]
    },
    {
      "type": "DISCONNECT",
      "name": "Disconnect",
      "http": [
        {
          "destination": "service.1.example.com/disconnect"
        }
      ],
      "kafka": [
        {
          "topic": "service.2.connect.disconnect"
        }
      ]
    },
    {
      "type": "ERROR",
      "name": "Error",
      "http": [
        {
          "destination": "service.4.example.com/error"
        }
      ],
      "kafka": [
        {
          "topic": "service.2.connect.error"
        }
      ]
    },
    {
      "type": "DEFAULT",
      "name": "Default",
      "http": [
        {
          "destination": "service.1.example.com/default"
        }
      ],
      "kafka": [
        {
          "topic": "service.2.connect.default"
        }
      ]
    },
    {
      "type": "CUSTOM",
      "name": "Custom route",
      "expression": {
        "and": [
          {
            "or": [
              {
                "matches": {
                  "path": "$.a",
                  "value": "a"
                }
              },
              {
                "equal": {
                  "path": "$.b",
                  "value": 8
                }
              }
            ]
          },
          {
            "equal": {
              "path": "$.b",
              "value": "b"
            }
          }
        ]
      },
      "http": [
        {
          "destination": "service.1.example.com/custom"
        }
      ]
    }
  ]
}
